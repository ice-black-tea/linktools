(function(){function c(a,i,s){function l(r,e){if(!i[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[r]={exports:{}};a[r][0].call(o.exports,function(e){var t=a[r][1][e];return l(t||e)},o,o.exports,c,a,i,s)}return i[r].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return c})()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this.debug=1,this.info=2,this.warning=3,this.error=4,this.$level=this.info}return Object.defineProperty(e.prototype,"level",{get:function(){return this.$level},enumerable:!1,configurable:!0}),e.prototype.setLevel=function(e){this.$level=e,this.d("Set log level: "+e)},e.prototype.d=function(e,t){this.$level<=this.debug&&send({log:{level:"debug",message:e}},t)},e.prototype.i=function(e,t){this.$level<=this.info&&send({log:{level:"info",message:e}},t)},e.prototype.w=function(e,t){this.$level<=this.warning&&send({log:{level:"warning",message:e}},t)},e.prototype.e=function(e,t){this.$level<=this.error&&send({log:{level:"error",message:e}},t)},e}(),o=function(){function e(){}return e.prototype.load=function(e,t){Object.defineProperties(globalThis,{parameters:{configurable:!0,enumerable:!0,value:t}});for(var r=0,n=e;r<n.length;r++){var o=n[r];try{(0,eval)(o.source)}catch(e){var a=e.hasOwnProperty("stack")?e.stack:e;throw new Error("Unable to load ".concat(o.filename,": ").concat(a))}}},e}(),a=new o;rpc.exports={loadScripts:a.load.bind(a)};var i=e("./lib/c"),s=e("./lib/java"),l=e("./lib/android"),u=e("./lib/objc"),c=e("./lib/ios"),f=new n,p=new i.CHelper,h=new s.JavaHelper,d=new l.AndroidHelper,g=new u.ObjCHelper,v=new c.IOSHelper;Object.defineProperties(globalThis,{Log:{enumerable:!0,value:f},CHelper:{enumerable:!0,value:p},JavaHelper:{enumerable:!0,value:h},AndroidHelper:{enumerable:!0,value:d},ObjCHelper:{enumerable:!0,value:g},IOSHelper:{enumerable:!0,value:v},ignoreError:{enumerable:!1,value:function(e,t){void 0===t&&(t=void 0);try{return e()}catch(e){return f.d("Catch ignored error. "+e),t}}},parseBoolean:{enumerable:!1,value:function(e,t){if(void 0===t&&(t=void 0),"boolean"==typeof e)return e;if("string"==typeof e){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1}return t}},pretty2String:{enumerable:!1,value:function(e){return(e=pretty2Json(e))instanceof Object?JSON.stringify(e):e}},pretty2Json:{enumerable:!1,value:function(e){if(!(e instanceof Object))return e;if(Array.isArray(e)||h.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(pretty2Json(e[r]));return t}return ignoreError(function(){return e.toString()})}}})},{"./lib/android":2,"./lib/c":3,"./lib/ios":4,"./lib/java":5,"./lib/objc":6}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AndroidHelper=void 0;var n=function(){function e(){}return e.prototype.setWebviewDebuggingEnabled=function(){Log.i("======================================================\r\nAndroid Enable Webview Debugging                      \r\n======================================================"),Java.perform(function(){var e="android.webkit.WebView";JavaHelper.hookMethods(e,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("android.webkit.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)}),JavaHelper.hookMethods(e,"loadUrl",function(e,t){return Log.d("android.webkit.WebView.loadUrl: "+t[0]),e.setWebContentsDebuggingEnabled(!0),this(e,t)});ignoreError(function(){return JavaHelper.hookMethods(e,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("com.uc.webview.export.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)})}),ignoreError(function(){return JavaHelper.hookMethods("com.uc.webview.export.WebView","loadUrl",function(e,t){return Log.d("com.uc.webview.export.WebView.loadUrl: "+t[0]),e.setWebContentsDebuggingEnabled(!0),this(e,t)})})})},e.prototype.bypassSslPinning=function(){Log.i("======================================================\r\nAndroid Bypass ssl pinning                           \r\n======================================================"),Java.perform(function(){var r=Java.use("java.util.Arrays");ignoreError(function(){return JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(e,t){if(Log.d("Bypassing TrustManagerImpl checkServerTrusted"),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?r.asList(t[0]):void 0})}),ignoreError(function(){return JavaHelper.hookMethods("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("Bypassing Platform checkServerTrusted {1}")})}),ignoreError(function(){return JavaHelper.hookMethods("com.android.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("Bypassing Platform checkServerTrusted {2}")})})})},e}();r.AndroidHelper=n},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHelper=void 0;var n=function(){function e(){this.$funcCaches={}}return Object.defineProperty(e.prototype,"dlopen",{get:function(){return this.getExportFunction(null,"dlopen","pointer",["pointer","int"])},enumerable:!1,configurable:!0}),e.prototype.getExportFunction=function(e,t,r,n){var o=(e||"")+"|"+t;if(o in this.$funcCaches)return this.$funcCaches[o];var a=Module.findExportByName(e,t);if(null===a)throw Error("cannot find "+t);return this.$funcCaches[o]=new NativeFunction(a,r,n),this.$funcCaches[o]},e.prototype.hookFunctionWithCallbacks=function(e,n,t){var r=Module.findExportByName(e,n);if(null===r)throw Error("cannot find "+n);var o={get:function(e,t,r){return"name"===t?n:e[t]}},a={};"onEnter"in t&&(a.onEnter=function(e){t.onEnter.call(new Proxy(this,o),e)}),"onLeave"in t&&(a.onLeave=function(e){t.onLeave.call(new Proxy(this,o),e)});var i=Interceptor.attach(r,a);return Log.i("Hook function: "+n+" ("+r+")"),i},e.prototype.hookFunction=function(e,o,a,i,s){var l=this.getExportFunction(e,o,a,i);if(null===l)throw Error("cannot find "+o);var t=i;Interceptor.replace(l,new NativeCallback(function(){for(var n=this,e=[],t=0;t<i.length;t++)e[t]=arguments[t];var r=new Proxy(l,{get:function(e,t,r){switch(t){case"name":return o;case"argumentTypes":return i;case"returnType":return a;case"context":return n.context;default:e[t]}},apply:function(e,t,r){return e.apply(null,r[0])}});return s.call(r,e)},a,t)),Log.i("Hook function: "+o+" ("+l+")")},e.prototype.getEventImpl=function(t){var s=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]},e=function(e){var t={};for(var r in s.extras)t[r]=s.extras[r];s.method&&(t.method_name=this.name),s.thread&&(t.thread_id=Process.getCurrentThreadId()),s.args&&(t.args=pretty2Json(e),t.result=null,t.error=null);try{var n=this(e);return s.args&&(t.result=pretty2Json(n)),n}catch(e){throw s.args&&(t.error=pretty2Json(e)),e}finally{if(s.stack){for(var o=[],a=Thread.backtrace(this.context,Backtracer.ACCURATE),i=0;i<a.length;i++)o.push(DebugSymbol.fromAddress(a[i]).toString());t.stack=o}send({event:t})}};return e.onLeave=function(e){var t={};for(var r in s.extras)t[r]=s.extras[r];if(1==s.method&&(t.method_name=this.name),!0===s.thread&&(t.thread_id=Process.getCurrentThreadId()),!0===s.args&&(t.result=pretty2Json(e)),!0===s.stack){for(var n=[],o=Thread.backtrace(this.context,Backtracer.ACCURATE),a=0;a<o.length;a++)n.push(DebugSymbol.fromAddress(o[a]).toString());t.stack=n}send({event:t})},e},e}();r.CHelper=n},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IOSHelper=void 0;var n=function(){function e(){}return e.prototype.bypassSslPinning=function(){Log.i("======================================================\r\niOS Bypass ssl pinning                                \r\n======================================================");try{Module.ensureInitialized("libboringssl.dylib")}catch(t){Log.d("libboringssl.dylib module not loaded. Trying to manually load it."),Module.load("libboringssl.dylib")}var t=new NativeCallback(function(e,t){return Log.d("custom SSL context verify callback, returning SSL_VERIFY_NONE"),0},"int",["pointer","pointer"]);try{CHelper.hookFunction("libboringssl.dylib","SSL_set_custom_verify","void",["pointer","int","pointer"],function(e){return Log.d("SSL_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}catch(e){CHelper.hookFunction("libboringssl.dylib","SSL_CTX_set_custom_verify","void",["pointer","int","pointer"],function(e){return Log.d("SSL_CTX_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}CHelper.hookFunction("libboringssl.dylib","SSL_get_psk_identity","pointer",["pointer"],function(e){return Log.d('SSL_get_psk_identity(), returning "fakePSKidentity"'),Memory.allocUtf8String("fakePSKidentity")})},e}();r.IOSHelper=n},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JavaHelper=void 0;var n=function(){function e(){}return Object.defineProperty(e.prototype,"classClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringClass",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threadClass",{get:function(){return Java.use("java.lang.Thread")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throwableClass",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uriClass",{get:function(){return Java.use("android.net.Uri")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlClass",{get:function(){return Java.use("java.net.URL")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapClass",{get:function(){return Java.use("java.util.Map")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return Java.use("android.app.ActivityThread").currentApplication().getApplicationContext()},enumerable:!1,configurable:!0}),e.prototype.isArray=function(e){return!!(e.hasOwnProperty("class")&&e.class instanceof Object&&e.class.hasOwnProperty("isArray")&&e.class.isArray())},e.prototype.getClassName=function(e){return e.$classWrapper.__name__},e.prototype.findClass=function(e,t){if(void 0===t&&(t=void 0),void 0===t||null==t){if(parseInt(Java.androidVersion)<7)return Java.use(e);var r=null,n=Java.enumerateClassLoadersSync();for(var o in n)try{var a=this.findClass(e,n[o]);if(null!=a)return a}catch(e){null==r&&(r=e)}throw r}var i=Java.classFactory.loader;try{return Reflect.set(Java.classFactory,"loader",t),Java.use(e)}finally{Reflect.set(Java.classFactory,"loader",i)}},e.prototype.$fixMethod=function(e){Object.defineProperties(e,{className:{configurable:!0,enumerable:!0,get:function(){return this.holder.$className||this.holder.__name__}},name:{configurable:!0,enumerable:!0,get:function(){var e=this.returnType.className,t=this.className+"."+this.methodName,r="";if(this.argumentTypes.length>0){r=this.argumentTypes[0].className;for(var n=1;n<this.argumentTypes.length;n++)r=r+", "+this.argumentTypes[n].className}return e+" "+t+"("+r+")"}},toString:{configurable:!0,value:function(){return this.name}}})},e.prototype.$hookMethod=function(e,t){if(void 0===t&&(t=null),null!=t){var r=new Proxy(e,{apply:function(e,t,r){var n=r[0],o=r[1];return e.apply(n,o)}});e.implementation=function(){return t.call(r,this,Array.prototype.slice.call(arguments))},Log.i("Hook method: "+e)}else e.implementation=null,Log.i("Unhook method: "+e)},e.prototype.hookMethod=function(e,t,r,n){void 0===n&&(n=null);var o=t;if("string"==typeof o){var a=e;if("string"==typeof a&&(a=this.findClass(a)),o=a[o],null!=r){var i=r;for(var s in i)"string"!=typeof i[s]&&(i[s]=this.getClassName(i[s]));o=o.overload.apply(o,i)}}this.$fixMethod(o),this.$hookMethod(o,n)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;"string"==typeof n&&(n=this.findClass(n));for(var o=n[t].overloads,a=0;a<o.length;a++){var i=o[a];void 0!==i.returnType&&void 0!==i.returnType.className&&(this.$fixMethod(i),this.$hookMethod(i,r))}},e.prototype.hookAllConstructors=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookMethods(r,"$init",t)},e.prototype.hookAllMethods=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=r.class;null!=o&&"java.lang.Object"!==o.getName();){for(var a=o.getDeclaredMethods(),i=0;i<a.length;i++){var s=a[i].getName();n.indexOf(s)<0&&(n.push(s),this.hookMethods(r,s,t))}o=Java.cast(o.getSuperclass(),this.classClass)}},e.prototype.hookClass=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookAllConstructors(r,t),this.hookAllMethods(r,t)},e.prototype.callMethod=function(e,t){var r=this.getStackTrace()[0].getMethodName();return"<init>"===r&&(r="$init"),Reflect.get(e,r).apply(e,t)},e.prototype.getEventImpl=function(t){var a=this,i=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r={};for(var n in i.extras)r[n]=i.extras[n];i.method&&(r.class_name=e.$className,r.method_name=this.name,r.method_simple_name=this.methodName),i.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=a.threadClass.currentThread().getName()),i.args&&(r.args=pretty2Json(t),r.result=null,r.error=null);try{var o=this(e,t);return i.args&&(r.result=pretty2Json(o)),o}catch(e){throw i.args&&(r.error=pretty2Json(e)),e}finally{i.stack&&(r.stack=pretty2Json(a.getStackTrace())),send({event:r})}}},e.prototype.fromJavaArray=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=Java.vm.getEnv(),a=0;a<o.getArrayLength(t.$handle);a++)n.push(Java.cast(o.getObjectArrayElement(t.$handle,a),r));return n},e.prototype.getEnumValue=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));var n=r.class.getEnumConstants();n instanceof Array||(n=this.fromJavaArray(r,n));for(var o=0;o<n.length;o++)if(n[o].toString()===t)return n[o];throw new Error("Name of "+t+" does not match "+r)},e.prototype.getStackTrace=function(){for(var e=[],t=this.throwableClass.$new().getStackTrace(),r=0;r<t.length;r++)e.push(t[r]);return e},e.prototype.$makeStackObject=function(e){void 0===e&&(e=void 0),void 0===e&&(e=this.getStackTrace());for(var t="Stack: ",r=0;r<e.length;r++)t+="\n    at "+pretty2String(e[r]);return{stack:t}},e.prototype.printStack=function(){var e=this.getStackTrace();Log.i(this.$makeStackObject(e))},e.prototype.$makeArgsObject=function(e,t){for(var r="Arguments: ",n=0;n<e.length;n++)r+="\n    Arguments["+n+"]: "+pretty2String(e[n]);return void 0!==t&&(r+="\n    Return: "+pretty2String(t)),{arguments:r}},e.prototype.printArguments=function(e,t){Log.i(this.$makeArgsObject(e,t))},e}();r.JavaHelper=n},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ObjCHelper=void 0;var n=function(){function e(){}return e.prototype.$fixMethod=function(e,t){var r=t.origImplementation||t.implementation,n=e.toString(),o=ObjC.selectorAsString(t.selector),a=ObjC.classes.NSThread.hasOwnProperty(o);Object.defineProperties(t,{className:{configurable:!0,enumerable:!0,get:function(){return n}},methodName:{configurable:!0,enumerable:!0,get:function(){return o}},name:{configurable:!0,enumerable:!0,get:function(){return(a?"+":"-")+"["+n+" "+o+"]"}},origImplementation:{configurable:!0,enumerable:!0,get:function(){return r}},toString:{value:function(){return this.name}}})},e.prototype.$hookMethod=function(o,i){void 0===i&&(i=null),null!=i?(o.implementation=ObjC.implement(o,function(){var n=this,e=Array.prototype.slice.call(arguments),t=e.shift(),a=e.shift(),r=new Proxy(o,{get:function(e,t,r){return t in n?n[t]:e[t]},apply:function(e,t,r){var n=r[0],o=r[1];return e.origImplementation.apply(null,[].concat(n,a,o))}});return i.call(r,t,e)}),Log.i("Hook method: "+o)):(o.implementation=o.origImplementation,Log.i("Unhook method: "+pretty2String(o)))},e.prototype.hookMethod=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');var o=t;if("string"==typeof o&&(o=n[o]),void 0===o)throw Error('cannot find method "'+t+'" in class "'+n+'"');this.$fixMethod(n,o),this.$hookMethod(o,r)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');for(var o=n.$ownMethods.length,a=0;a<o;a++){var i=n.$ownMethods[a];if(i.indexOf(t)>=0){var s=n[i];this.$fixMethod(n,s),this.$hookMethod(s,r)}}},e.prototype.getEventImpl=function(t){var u=this,c=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r={};for(var n in c.extras)r[n]=c.extras[n];if(c.method&&(r.class_name=new ObjC.Object(e).$className,r.method_name=this.name,r.method_simple_name=this.methodName),c.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=ObjC.classes.NSThread.currentThread().name().toString()),c.args){for(var o=[],a=0;a<t.length;a++)o.push(u.convert2ObjcObject(t[a]));r.args=pretty2Json(o),r.result=null,r.error=null}try{var i=this(e,t);return c.args&&(r.result=pretty2Json(u.convert2ObjcObject(i))),i}catch(e){throw c.args&&(r.error=pretty2Json(e)),e}finally{if(c.stack){var s=[],l=Thread.backtrace(this.context,Backtracer.ACCURATE);for(a=0;a<l.length;a++)s.push(DebugSymbol.fromAddress(l[a]).toString());r.stack=s}send({event:r})}}},e.prototype.convert2ObjcObject=function(e){return e instanceof NativePointer||"object"==typeof e&&e.hasOwnProperty("handle")?new ObjC.Object(e):e},e}();r.ObjCHelper=n},{}]},{},[1]);